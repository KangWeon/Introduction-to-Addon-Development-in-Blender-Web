---
pagetitle: 5-1. キーボードによるオブジェクト変形
subtitle: 5-1. キーボードによるオブジェクト変形
---


本節では、キーボードのキー入力に応じてアクティブなオブジェクトを並進移動・拡大縮小・回転するアドオンを紹介します。


# アドオンのソースコード

[@include-source pattern="full" filepath="chapter_05/sample_5-1.py"]


# 関連する内容

* [2-1. アドオン開発の基礎を身につける](../chapter_02/01_Basic_Of_Add-on_Development.html)
    * 基本的なアドオンの作り方
* [2-7. BlenderのUIを制御する](../chapter_02/07_Control_Blender_UI.html)
    * `poll` メソッドの扱い方
    * SidebarのUI構築
* [3-2. キーボードのイベントを扱う](../chapter_03/02_Handle_Keyboard_Event.html)
    * キーボードのイベントの扱い方
* [3-7. プリファレンスを活用する](../chapter_03/07_Use_Preference.html)
    * プリファレンスにアドオン設定情報を配置する方法


# アドオンの仕様

* *[3Dビューポート]* スペースのSidebarに、パネル *[サンプル 5-1]* > *[特殊オブジェクト編集モード]* を配置し、特殊オブジェクト編集モードを開始/終了するためのボタンをそのパネルに配置する
    * オブジェクトモード時、かつ最低でも1個のオブジェクトが選択されている場合のみ、パネルを表示する
* 特殊オブジェクト編集モード時は、プリファレンスで設定したキーを押したときに、オブジェクトに対して処理を行う
    * デフォルトでは、下表に示されたキーを押したときに、オブジェクトに対して該当する処理を行う
    * 特殊オブジェクト編集モード時に、処理に関連する値（移動量・拡大率・縮小率・回転量）を設定できる
    * オブジェクトの変形操作の結果は、*[3Dビューポート]* スペースのメニュー *[オブジェクト]* > *[トランスフォーム]* > *[移動]* 、*[オブジェクト]* > *[トランスフォーム]* > *[回転]* 、*[オブジェクト]* > *[トランスフォーム]* > *[拡大縮小]* を実行したときに行われるオブジェクト変形処理と同じである
* 特殊オブジェクト編集モードにおいて使用するキーは、プリファレンスのアドオン設定から選択できる
    * 複数の操作に対して、同じキーを割り当てることはできない


|キー|処理|
|---|---|
|*[T]* + *[X]* + *[→]*|X軸正方向に平行移動|
|*[T]* + *[X]* + *[←]*|X軸負方向に平行移動|
|*[T]* + *[Y]* + *[→]*|Y軸正方向に平行移動|
|*[T]* + *[Y]* + *[←]*|Y軸負方向に平行移動|
|*[T]* + *[Z]* + *[→]*|Z軸正方向に平行移動|
|*[T]* + *[Z]* + *[←]*|Z軸負方向に平行移動|
|*[S]* + *[X]* + *[→]*|X軸方向に拡大|
|*[S]* + *[X]* + *[←]*|X軸方向に縮小|
|*[S]* + *[Y]* + *[→]*|Y軸方向に拡大|
|*[S]* + *[Y]* + *[←]*|Y軸方向に縮小|
|*[S]* + *[Z]* + *[→]*|Z軸方向に拡大|
|*[S]* + *[Z]* + *[←]*|Z軸方向に縮小|
|*[R]* + *[X]* + *[→]*|X軸周りの正方向に回転|
|*[R]* + *[X]* + *[←]*|X軸周りの負方向に回転|
|*[R]* + *[Y]* + *[→]*|Y軸周りの正方向に回転|
|*[R]* + *[Y]* + *[←]*|Y軸周りの負方向に回転|
|*[R]* + *[Z]* + *[→]*|Z軸周りの正方向に回転|
|*[R]* + *[Z]* + *[←]*|Z軸周りの負方向に回転|


# アドオンの機能を使用する


<div class="work"></div>

|||
|---|---|
|1|プリファンレンスのアドオンの設定から、特殊オブジェクト編集モード時の処理に割り当てるキーを変更します。<br>![](../../images/chapter_05/01_Transform_Object_With_Keybord/use_add-on_1.png "サンプルアドオン5-1 手順1")|
|2|*[3Dビューポート]* スペースのSidebarから、*[サンプル 5-1]* > *[特殊オブジェクト編集モード]* > *[開始]* ボタンをクリックします。<br>![](../../images/chapter_05/01_Transform_Object_With_Keybord/use_add-on_2.png "サンプルアドオン5-1 手順2")|
|3|1で割り当てたキーを押し、特殊オブジェクト編集モード中にキーに割り当てた処理が実行されることを確認します。<br>![](../../images/chapter_05/01_Transform_Object_With_Keybord/use_add-on_3.png "サンプルアドオン5-1 手順3")|
|4|パネル *[サンプル 5-1]* > *[特殊オブジェクト編集モード]* から、各処理の移動量・拡大率・縮小率・回転量を指定できます。<br>![](../../images/chapter_05/01_Transform_Object_With_Keybord/use_add-on_4.png "サンプルアドオン5-1 手順4")|
|5|パネル *[サンプル 5-1]* > *[特殊オブジェクト編集モード]* に配置されている *[終了]* ボタンを押すと、特殊オブジェクト編集モードを終了します。<br>![](../../images/chapter_05/01_Transform_Object_With_Keybord/use_add-on_5.png "サンプルアドオン 5-1 手順5")|
